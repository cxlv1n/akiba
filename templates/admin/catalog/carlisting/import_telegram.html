{% extends "admin/base_site.html" %}
{% load i18n admin_urls static %}

{% block title %}–ò–º–ø–æ—Ä—Ç –∏–∑ Telegram ‚Äî {{ site_title }}{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url 'admin:index' %}">–ì–ª–∞–≤–Ω–∞—è</a>
    &rsaquo; <a href="{% url 'admin:catalog_carlisting_changelist' %}">–ö–∞—Ç–∞–ª–æ–≥ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π</a>
    &rsaquo; –ò–º–ø–æ—Ä—Ç –∏–∑ Telegram
</div>
{% endblock %}

{% block content %}
<div style="max-width: 600px; margin: 0 auto;">
    <h1 style="margin-bottom: 20px;">–ò–º–ø–æ—Ä—Ç –∏–∑ Telegram –∫–∞–Ω–∞–ª–∞</h1>
    
    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
        <h3 style="margin-top: 0;">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</h3>
        <ol style="margin-bottom: 0; padding-left: 20px;">
            <li>–ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ Telegram —á–µ—Ä–µ–∑ MTProto API</li>
            <li>–ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –∫–∞–Ω–∞–ª–∞</li>
            <li>–ü–∞—Ä—Å–∏–º —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–æ–≤ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ–± –∞–≤—Ç–æ</li>
            <li>–°–æ–∑–¥–∞—ë–º –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ —Å—Ç–∞—Ç—É—Å–µ "–ß–µ—Ä–Ω–æ–≤–∏–∫" –∏–ª–∏ "–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ"</li>
            <li>–ó–∞–≥—Ä—É–∂–∞–µ–º —Ñ–æ—Ç–æ –∏–∑ –ø–æ—Å—Ç–æ–≤</li>
        </ol>
    </div>
    
    <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #ffc107;">
        <strong>‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ:</strong> –î–ª—è —Ä–∞–±–æ—Ç—ã –∏–º–ø–æ—Ä—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
        <ul style="margin-bottom: 0; margin-top: 10px;">
            <li><code>TELEGRAM_API_ID</code></li>
            <li><code>TELEGRAM_API_HASH</code></li>
            <li><code>TELEGRAM_SESSION_STRING</code> (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</li>
        </ul>
        <p style="margin-bottom: 0; margin-top: 10px;">
            –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á–∏ –º–æ–∂–Ω–æ –Ω–∞ <a href="https://my.telegram.org" target="_blank">my.telegram.org</a>
        </p>
    </div>
    
    <form method="post" action="{% url 'admin:catalog_carlisting_import_telegram' %}">
        {% csrf_token %}
        
        <div style="margin-bottom: 15px;">
            <label for="channel" style="display: block; margin-bottom: 5px; font-weight: bold;">
                –ö–∞–Ω–∞–ª (–±–µ–∑ @):
            </label>
            <input 
                type="text" 
                name="channel" 
                id="channel" 
                value="akibaautovl"
                style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; font-size: 14px;"
            >
        </div>
        
        <div style="margin-bottom: 20px;">
            <label for="limit" style="display: block; margin-bottom: 5px; font-weight: bold;">
                –õ–∏–º–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–π (–ø—É—Å—Ç–æ = –≤—Å–µ –Ω–æ–≤—ã–µ):
            </label>
            <input 
                type="number" 
                name="limit" 
                id="limit" 
                min="1" 
                max="1000"
                placeholder="100"
                style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; font-size: 14px;"
            >
        </div>
        
        <div style="display: flex; gap: 10px;">
            <button 
                type="submit" 
                style="
                    background: #417690; 
                    color: white; 
                    padding: 12px 24px; 
                    border: none; 
                    border-radius: 4px; 
                    cursor: pointer; 
                    font-size: 14px;
                    font-weight: bold;
                "
            >
                üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–º–ø–æ—Ä—Ç
            </button>
            
            <a 
                href="{% url 'admin:catalog_carlisting_changelist' %}" 
                style="
                    background: #6c757d; 
                    color: white; 
                    padding: 12px 24px; 
                    border: none; 
                    border-radius: 4px; 
                    text-decoration: none;
                    font-size: 14px;
                "
            >
                –û—Ç–º–µ–Ω–∞
            </a>
        </div>
    </form>
    
    <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd;">
        <h3>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–º–ø–æ—Ä—Ç—ã</h3>
        <p>
            <a href="{% url 'admin:catalog_importrun_changelist' %}">
                –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –∏–º–ø–æ—Ä—Ç–∞ ‚Üí
            </a>
        </p>
    </div>
</div>
{% endblock %}

